.section {
    --header-offset: 96px;
}

.cards {
    --peek: clamp(10px, 1.2vw, 20px);
    --total-cards: var(--numcards);
    --slice: calc(100% / var(--total-cards));

    margin: 0 auto;
    padding: 0;
    list-style: none;

    width: clamp(320px, 92vw, 720px);
    max-width: 720px;

    display: flex;
    flex-direction: column;
    gap: 24px;

    view-timeline-name: --cardsContainer;
    padding-bottom: 10vh;
}

.card {
    --index0: calc(var(--index) - 1);
    position: sticky;
    top: calc(var(--header-offset) + var(--index0) * var(--peek));
    z-index: var(--index);
    transform-origin: top center;

    animation: stacking 1ms linear forwards;
    animation-timeline: --cardsContainer;
    animation-range-start: exit-crossing calc(var(--slice) * var(--index0));
    animation-range-end: exit-crossing calc(var(--slice) * var(--index));
}

@keyframes stacking {
    to {
        transform: scale(calc(1 - 0.08 * (var(--total-cards) - var(--index))));
    }
}

.card__content {
    background: white;
    border-radius: 24px;
    border: 1px solid rgba(17, 24, 39, 0.06);
    padding: 32px;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.10);
}

@media (min-width: 768px) {
    .card__content {
        padding: 48px;
    }
}